{
	"frames": [
		{
			"name": "ping",
			"description": "Ping all devices",
			"cmd_id": 0,
			"source": "bbb",
			"destination": "all",
			"fields_type": [],
			"fields": {}
		},
		{
			"name": "pong",
			"description": "Pong !",
			"cmd_id": 1,
			"source": "all",
			"destination": "bbb",
			"fields_type": ["byte", "byte"],
			"fields": {
				"device": {},
				"status": {"alive":0, "some_issues":1}
			}
		},
		{
			"name": "set_speed",
			"description": "Set the speed of the robot",
			"cmd_id": 4,
			"source": "bbb",
			"destination": "stm",
			"fields_type": ["word", "word", "word"],
			"fields": {
				"linear_speed": {},
				"angular_speed": {},
				"duration": {}
			}
		},
		{
			"name": "stm_coder_data",
			"description": "Data of coding wheel",
			"cmd_id": 5,
			"source": "stm",
			"destination": "all",
			"fields_type": ["word", "word"],
			"fields": {
				"right_wheel_dist": {},
				"left_wheel_dist": {}
			}
		},
		{
			"name": "set_stm_mode",
			"description": "Set STM mode",
			"cmd_id": 7,
			"source": "bbb",
			"destination": "stm",
			"fields_type": ["byte"],
			"fields": {
				"mode": {"stop":0, "start":1, "pause":2, "resume":3,
						"reset_id":4, "set_emergency_stop":5, "next_order":6,
						"reset_order":7, "reset_emergency_stop":8}
			}
		},
		{
			"name": "go_to_angle",
			"description": "Send order to STM to rotate to a given absolute angle",
			"cmd_id": 8,
			"source": "bbb",
			"destination": "stm",
			"fields_type": ["word", "word", "word", "byte"],
			"fields": {
				"x": {},
				"y": {},
				"angle": {},
				"direction": {}
			}
		},
		{
			"name": "go_to",
			"description": "Send order to STM to move toward a given point",
			"cmd_id": 9,
			"source": "bbb",
			"destination": "stm",
			"fields_type": ["word", "word", "word"],
			"fields": {
				"x": {},
				"y": {},
				"direction": {}
			}
		},
		{
			"name": "rotate",
			"description": "Send order to STM to rotate of a given angle",
			"cmd_id": 10,
			"source": "bbb",
			"destination": "stm",
			"fields_type": ["word"],
			"fields": {
				"angle": {}
			}
		},
		{
			"name": "set_left_pid",
			"description": "Set left STM's PID",
			"cmd_id": 12,
			"source": "bbb",
			"destination": "stm",
			"fields_type": ["word", "word", "word"],
			"fields": {
				"p": {},
				"i": {},
				"d": {}
			}
		},
		{
			"name": "set_right_pid",
			"description": "Set right STM's PID",
			"cmd_id": 13,
			"source": "bbb",
			"destination": "stm",
			"fields_type": ["word", "word", "word"],
			"fields": {
				"p": {},
				"i": {},
				"d": {}
			}
		},
		{
			"name": "set_both_pid",
			"description": "Set STM's PID on both sides",
			"cmd_id": 14,
			"source": "bbb",
			"destination": "stm",
			"fields_type": ["word", "word", "word"],
			"fields": {
				"p": {},
				"i": {},
				"d": {}
			}
		},
		{
			"name": "set_pwm",
			"description": "Set wheels PWM",
			"cmd_id": 15,
			"source": "bbb",
			"destination": "stm",
			"fields_type": ["word", "word"],
			"fields": {
				"left_pwm": {},
				"right_pwm": {}
			}
		},
		{
			"name": "set_position",
			"description": "Set robot absolute position on STM",
			"cmd_id": 16,
			"source": "bbb",
			"destination": "stm",
			"fields_type": ["word", "word", "word"],
			"fields": {
				"x": {},
				"y": {},
				"angle": {}
			}
		},
		{
			"name": "set_stm_param",
			"description": "Set speed and acceleration parameter in STM",
			"cmd_id": 17,
			"source": "bbb",
			"destination": "stm",
			"fields_type": ["word", "word", "word"],
			"fields": {
				"max_linear_speed": {},
				"max_angular_speed": {},
				"max_acc": {}
			}
		},
		{
			"name": "current_pos",
			"description": "Current position of the robot",
			"cmd_id": 18,
			"source": "stm",
			"destination": "bbb",
			"fields_type": ["word", "word", "word"],
			"fields": {
				"x": {},
				"y": {},
				"angle": {}
			}
		},
		{
			"name": "current_pwm",
			"description": "Current PWM of the wheels motors",
			"cmd_id": 19,
			"source": "stm",
			"destination": "bbb",
			"fields_type": ["word", "word"],
			"fields": {
				"left_pwm": {},
				"right_pwm": {}
			}
		},
		{
			"name": "current_speed",
			"description": "Current speed of the robot",
			"cmd_id": 20,
			"source": "stm",
			"destination": "bbb",
			"fields_type": ["word", "word", "word"],
			"fields": {
				"linear_speed": {},
				"left_speed": {},
				"right_speed": {}
			}
		},
		{
			"name": "sonar_distance",
			"description": "Data on sonar distance",
			"cmd_id": 23,
			"source": "arduino",
			"destination": "bbb",
			"fields_type": ["byte", "byte", "byte", "byte"],
			"fields": {
				"dist_front_left": {},
				"dist_front_right": {},
				"dist_back_left": {},
				"dist_back_right": {}
			}
		},
		{
			"name": "order_complete",
			"description": "STM move order complete",
			"cmd_id": 26,
			"source": "stm",
			"destination": "bbb",
			"fields_type": [],
			"fields": {}
		},
		{
			"name": "robot_blocked",
			"description": "Robot blocked signal",
			"cmd_id": 28,
			"source": "stm",
			"destination": "bbb",
			"fields_type": [],
			"fields": {}
		},
		{
			"name": "update_screen",
			"description": "Update screen with points and robot status",
			"cmd_id": 30,
			"source": "arduino",
			"destination": "bbb",
			"fields_type": ["word", "byte"],
			"fields": {
				"points": {},
				"status": {"booting":0, "ready":1, "running":2, "error":3, "done":4}
			}
		},
		{
			"name": "fetch_puck",
			"description": "Fetch a puckk",
			"cmd_id": 40,
			"source": "bbb",
			"destination": "all",
			"fields_type": [],
			"fields": {}
		},
		{
			"name": "puck_fetched_chief",
			"description": "Notice the puck has been retrieved",
			"cmd_id": 41,
			"source": "all",
			"destination": "bbb",
			"fields_type": [],
			"fields": {}
		},
		{
			"name": "set_dock_height",
			"description": "Change dock height",
			"cmd_id": 42,
			"source": "bbb",
			"destination": "all",
			"fields_type": ["word", "word"],
			"fields": {
				"front_height": {},
				"back_height": {}
			}
		},
		{
			"name": "your_dock_has_fullfilled_your_request",
			"description": "Callback frame for dock height",
			"cmd_id": 43,
			"source": "all",
			"destination": "bbb",
			"fields_type": [],
			"fields": {}
		}
	]
}